Marin Cilic reached the men's singles final at Wimbledon for the first time, beating American Sam Querrey in a hard-fought four-set match.