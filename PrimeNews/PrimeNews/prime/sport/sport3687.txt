Britain's Chris Froome thought it was "game over" in his bid to win a fourth Tour de France title when his bike had a mechanical issue.