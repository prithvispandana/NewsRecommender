Lionel Messi has agreed to sign a new four-year contract at Barcelona, a decision welcomed by Gerard Pique and the club's president.