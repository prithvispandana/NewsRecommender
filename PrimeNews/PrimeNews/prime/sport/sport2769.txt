South Africa recover from a post-tea collapse to end the first day of the second Test on 309-6 against England at Trent Bridge.