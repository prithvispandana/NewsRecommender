Portugal survived an own goal and a missed penalty to claim a 2-1 win over Mexico in the Confederations Cup third-place play-off.