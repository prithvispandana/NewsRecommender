Heavy rain and thunderstorms have lashed parts of China, causing water logging and traffic disruption.