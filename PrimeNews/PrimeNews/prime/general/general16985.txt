France's armed forces chief resigns after a dispute with President Emmanuel Macron over defence budget cuts.