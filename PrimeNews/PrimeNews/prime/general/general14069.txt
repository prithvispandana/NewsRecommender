After hours of debate, the president agreed to continue with an international agreement limiting Iranâ€™s nuclear program that he had pledged to overhaul.