The head of France's armed forces has resigned after a furious row with his new boss, President Emmanuel Macron, over budget cuts. General Pierre de Villiers said he did not believe he could "guarantee the protection of France and the French people."