Legislators vote to extend a programme that charges firms for releasing pollutants to the year 2030.