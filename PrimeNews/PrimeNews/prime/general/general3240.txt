The NHS illegally handed Google the data of more than a million people the UK's data watchdog has found.