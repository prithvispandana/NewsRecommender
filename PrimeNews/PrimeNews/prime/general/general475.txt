Most Americans now support equal rights to marriage, and even among Republicans, attitudes have changed rapidly.