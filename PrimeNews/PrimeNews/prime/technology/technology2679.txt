Cheat-on-your-spouse website Ashley Madison has agreed to settle lawsuit filed by users whose details were leaked online.