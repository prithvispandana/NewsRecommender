The eclipse set to darken skies next month threatens to sideline solar farms and rooftop panels in a wide swath of the U.S., wiping out enough power generation to supply about 7 million homes.