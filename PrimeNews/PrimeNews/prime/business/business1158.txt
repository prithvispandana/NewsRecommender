Illinois lawmakers are racing to push through legislation to end a record-long budget impasse and avoid becoming the only U.S. state with a junk credit rating.