German lawmakers passed legislation Friday that would fine social-media companies up to $57 million if they fail to quickly delete hate speech, libel and other illegal content, one of the most aggressive efforts in the West to regulate content posted online.