British Columbia has declared a state of emergency and thousands have been evacuated.