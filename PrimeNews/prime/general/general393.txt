Angela Merkel has opened the way for gay marriage to be legalised in Germany after she called for a free vote in parliament on the issue.