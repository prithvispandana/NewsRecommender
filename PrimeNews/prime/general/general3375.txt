Algeria plans to grant residency rights and job permits to illegal African migrants, responding to a shortage of workers in farming and construction while also seeking to combat a surge in racist sentiment.