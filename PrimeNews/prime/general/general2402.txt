Shops are using new spy techniques to monitor customers' facial expressions, heart rate and even pupil dilation while they browse the aisles.