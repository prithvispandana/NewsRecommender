Malta's parliament voted on Wednesday to allow same-sex couples to marry, three years after passing a law permitting civil partnerships in the overwhelmingly Catholic country.