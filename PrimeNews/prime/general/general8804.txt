Three Israelis were injured when gunmen opened fire near the Temple Mount complex in Jerusalem before being shot dead by police.