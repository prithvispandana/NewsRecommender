Kevin Harrison, a registered sex offender in 2008, had attended the Royal Edinburgh Hospital on the day of the knifing to be assessed for mental health issues