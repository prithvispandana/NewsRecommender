Britain's Chris Froome retains the leaders' yellow jersey as Colombian Rigoberto Uran wins a stage that sees Richie Porte and Geraint Thomas crash out.