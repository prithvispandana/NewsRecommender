Teenage defender Theo Hernandez has agreed a six-year deal at Real Madrid after rejecting the opportunity to remain with Atletico.